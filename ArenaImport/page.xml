<ArenaPackage version="2011.1.100.6310">
  <Readme>
  </Readme>
  <Modules>
    <Module temp_module_id="-1" module_url="UserControls/Custom/WVC/WVC-Open-Giving/WVCPaymentWizard.ascx" module_name="WVC-Open-Giving" module_desc="" allows_child_modules="0" image_path="">
      <File path="UserControls/Custom/WVC/WVC-Open-Giving/WVCPaymentWizard.ascx">77u/PCVAIGNvbnRyb2wgbGFuZ3VhZ2U9ImMjIiBpbmhlcml0cz0iQXJlbmFXZWIuVXNlckNvbnRyb2xzLkN1c3RvbS5XVkMuV1ZDUGF5bWVudFdpemFyZCIgQ29kZUZpbGU9IldWQ1BheW1lbnRXaXphcmQuYXNjeC5jcyIgQ29kZUJlaGluZD0iV1ZDUGF5bWVudFdpemFyZC5hc2N4LmNzIiU+DQo8JUAgUmVnaXN0ZXIgU3JjPSJGdW5kQW1vdW50QWxsb2NhdGlvbi5hc2N4IiBUYWdOYW1lPSJGdW5kQW1vdW50QWxsb2NhdGlvbiIgVGFnUHJlZml4PSJ1YzEiICU+DQoNCjxkaXYgY2xhc3M9ImdpdmluZ1dpemFyZCI+DQogICAgPGFzcDpIaWRkZW5GaWVsZCBydW5hdD0ic2VydmVyIiBJRD0iaGZUcmFja2VyIiAvPg0KICAgIDxhc3A6SGlkZGVuRmllbGQgcnVuYXQ9InNlcnZlciIgSUQ9ImhmRXJyb3JNZXNzYWdlIiAvPg0KICAgIDxhc3A6SGlkZGVuRmllbGQgcnVuYXQ9InNlcnZlciIgSUQ9ImhmTG9naW5Mb2NhdGlvbiIgLz4NCiAgICA8dWw+DQogICAgICAgIDxsaSBjbGFzcz0id2l6YXJkU3RlcCIgaWQ9IndpelN0ZXAxIj4NCiAgICAgICAgICAgIDx1bD4NCiAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIG5hbWU9ImJ0bkNob29zZUxvZ2luIiBpZD0iYnRuQ2hvb3NlTG9naW4iIHJ1bmF0PSJzZXJ2ZXIiIC8+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIG5hbWU9ImJ0bkdpdmVOb3ciIGlkPSJidG5HaXZlTm93IiBydW5hdD0ic2VydmVyIiAvPg0KICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICA8L3VsPg0KICAgICAgICA8L2xpPg0KICAgICAgICA8bGkgY2xhc3M9IndpemFyZFN0ZXAiIGlkPSJ3aXpTdGVwMiI+DQogICAgICAgICAgICA8ZmllbGRzZXQ+DQogICAgICAgICAgICAgICAgPGxlZ2VuZD5Mb2dpbiBJbmZvcm1hdGlvbjwvbGVnZW5kPg0KICAgICAgICAgICAgICAgIDx1bD4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGFzcDpUZXh0Qm94IHJ1bmF0PSJzZXJ2ZXIiIElEPSJ0YkxvZ2luIiBwbGFjZWhvbGRlcj0iRW1haWwgQWRkcmVzcy9Mb2dpbiIgLz48YXNwOkh5cGVyTGluayBydW5hdD0ic2VydmVyIiBJRD0iZm9yZ290TG9naW4iPmZvcmdvdCBsb2dpbj88L2FzcDpIeXBlckxpbms+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJQYXNzd29yZCIgcGxhY2Vob2xkZXI9IlBhc3N3b3JkIiBUZXh0TW9kZT0iUGFzc3dvcmQiIC8+PGFzcDpIeXBlckxpbmsgcnVuYXQ9InNlcnZlciIgSUQ9ImZvcmdvdFBhc3N3b3JkIj5mb3Jnb3QgcGFzc3dvcmQ/PC9hc3A6SHlwZXJMaW5rPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBuYW1lPSJidG5Mb2dpbiIgaWQ9ImJ0bkxvZ2luIiB2YWx1ZT0iTG9naW4iIC8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDwvZmllbGRzZXQ+DQogICAgICAgIDwvbGk+DQogICAgICAgIDxsaSBjbGFzcz0id2l6YXJkU3RlcCIgaWQ9IndpelN0ZXAzIj4NCiAgICAgICAgICAgIDxmaWVsZHNldCBpZD0icGVyc29uYWxJbmZvcm1hdGlvbiI+DQogICAgICAgICAgICAgICAgPGxlZ2VuZD5QZXJzb25hbCBJbmZvcm1hdGlvbjwvbGVnZW5kPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imluc3RydWN0aW9ucyI+QWxsIGZpZWxkcyByZXF1aXJlZC48L2Rpdj4NCiAgICAgICAgICAgICAgICA8dWw+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJGaXJzdE5hbWUiIHBsYWNlaG9sZGVyPSJGaXJzdCBOYW1lIi8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJMYXN0TmFtZSIgcGxhY2Vob2xkZXI9Ikxhc3QgTmFtZSIvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiRW1haWwiIHBsYWNlaG9sZGVyPSJFbWFpbCBBZGRyZXNzIi8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJQaG9uZSIgcGxhY2Vob2xkZXI9IlBob25lIE51bWJlciIvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiQWRkcmVzczEiIHBsYWNlaG9sZGVyPSJBZGRyZXNzIi8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJDaXR5IiBwbGFjZWhvbGRlcj0iQ2l0eSIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGFzcDpUZXh0Qm94IHJ1bmF0PSJzZXJ2ZXIiIElEPSJ0YlN0YXRlIiBwbGFjZWhvbGRlcj0iU3RhdGUiIC8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJaaXAiIHBsYWNlaG9sZGVyPSJaaXAgQ29kZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgPC9maWVsZHNldD4NCiAgICAgICAgICAgIDxmaWVsZHNldCBpZD0iZ2lmdEluZm9ybWF0aW9uIj4NCiAgICAgICAgICAgICAgICA8bGVnZW5kPkdpZnQgSW5mb3JtYXRpb248L2xlZ2VuZD4gICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPHVsPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOkRyb3BEb3duTGlzdCBydW5hdD0ic2VydmVyIiBJRD0iZGRsU2VsZWN0ZWRGdW5kMSIgY2xhc3M9ImZ1bmRTZWxlY3RvciIgLz4kPGFzcDpUZXh0Qm94IHJ1bmF0PSJzZXJ2ZXIiIElEPSJ0YlNlbGVjdGVkRnVuZDFBbW91bnQiIGNsYXNzPSJmdW5kQW1vdW50IiBwbGFjZWhvbGRlcj0iMC4wMCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGFzcDpEcm9wRG93bkxpc3QgcnVuYXQ9InNlcnZlciIgSUQ9ImRkbFNlbGVjdGVkRnVuZDIiIGNsYXNzPSJmdW5kU2VsZWN0b3IiIC8+JDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJTZWxlY3RlZEZ1bmQyQW1vdW50IiBjbGFzcz0iZnVuZEFtb3VudCIgcGxhY2Vob2xkZXI9IjAuMDAiIC8+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6RHJvcERvd25MaXN0IHJ1bmF0PSJzZXJ2ZXIiIElEPSJkZGxTZWxlY3RlZEZ1bmQzIiBjbGFzcz0iZnVuZFNlbGVjdG9yIiAvPiQ8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiU2VsZWN0ZWRGdW5kM0Ftb3VudCIgY2xhc3M9ImZ1bmRBbW91bnQiIHBsYWNlaG9sZGVyPSIwLjAwIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICBUb3RhbDogPHNwYW4gaWQ9ImNvbnRyaWJ1dGlvblRvdGFsIj4kPGFzcDpUZXh0Qm94IHJ1bmF0PSJzZXJ2ZXIiIElEPSJ0YlRvdGFsQ29udHJpYnV0aW9uIiBSZWFkT25seT0idHJ1ZSIgcGxhY2Vob2xkZXI9IjAuMDAiIC8+PGFzcDpIaWRkZW5GaWVsZCBydW5hdD0ic2VydmVyIiBJRD0iaGZUb3RhbENvbnRyaWJ1dGlvbiIgLz48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJDb21tZW50IiBwbGFjZWhvbGRlcj0iQ29tbWVudCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgPC9maWVsZHNldD4NCiAgICAgICAgICAgIDxmaWVsZHNldCBpZD0icGF5bWVudEluZm9ybWF0aW9uIj4NCiAgICAgICAgICAgICAgICA8bGVnZW5kPlBheW1lbnQgSW5mb3JtYXRpb248L2xlZ2VuZD4NCiAgICAgICAgICAgICAgICA8dWw+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6UmFkaW9CdXR0b25MaXN0IHJ1bmF0PSJzZXJ2ZXIiIElEPSJyYmxQYXltZW50TWV0aG9kIiBSZXBlYXREaXJlY3Rpb249Ikhvcml6b250YWwiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6TGlzdEl0ZW0gVGV4dD0iQ3JlZGl0IENhcmQiIFZhbHVlPSJDQyIgSUQ9InJibFBheW1lbnRNZXRob2RDQyIgU2VsZWN0ZWQ9IlRydWUiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFzcDpMaXN0SXRlbSBUZXh0PSJCYW5rIEFjY291bnQiIFZhbHVlPSJBQ0giIElEPSJyYmxQYXltZW50TWV0aG9kQUNIIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9hc3A6UmFkaW9CdXR0b25MaXN0Pg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgIDx1bCBpZD0iQ0MiPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiQ0NOdW1iZXIiIHBsYWNlaG9sZGVyPSJDcmVkaXQgQ2FyZCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGFzcDpUZXh0Qm94IHJ1bmF0PSJzZXJ2ZXIiIElEPSJ0YkNDQ0lOIiBwbGFjZWhvbGRlcj0iU2VjdXJpdHkgQ29kZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZXhwRGV0YWlscyI+RXhwaXJhdGlvbjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0iZXhwRGV0YWlscyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOkRyb3BEb3duTGlzdCBydW5hdD0ic2VydmVyIiBJRD0iZGRsRXhwTW9udGgiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOkRyb3BEb3duTGlzdCBydW5hdD0ic2VydmVyIiBJRD0iZGRsRXhwWWVhciIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZEltYWdlIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgICAgIDx1bCBpZD0iQmFuayI+DQogICAgICAgICAgICAgICAgICAgIDxsaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhc3A6VGV4dEJveCBydW5hdD0ic2VydmVyIiBJRD0idGJCYW5rTmFtZSIgcGxhY2Vob2xkZXI9IkJhbmsgTmFtZSIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZGRsQWNjb3VudFR5cGUiPkFjY291bnQgVHlwZTwvbGFiZWw+PGFzcDpEcm9wRG93bkxpc3QgcnVuYXQ9InNlcnZlciIgSUQ9ImRkbEFjY291bnRUeXBlIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiUm91dGluZ051bWJlciIgcGxhY2Vob2xkZXI9IlJvdXRpbmcgTnVtYmVyIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8YXNwOlRleHRCb3ggcnVuYXQ9InNlcnZlciIgSUQ9InRiQWNjb3VudE51bWJlciIgcGxhY2Vob2xkZXI9IkFjY291bnQgTnVtYmVyIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+PGFzcDpJbWFnZSBydW5hdD0ic2VydmVyIiBJRD0iaW1nQ2hlY2tJbWFnZSIgLz48L2xpPg0KICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIDwvZmllbGRzZXQ+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zZXRXcmFwcGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zZXQiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0iYmFjayIgdGl0bGU9IkJhY2siPkJhY2s8L2E+DQogICAgICAgICAgICAgICAgICAgIDxhc3A6QnV0dG9uIHJ1bmF0PSJzZXJ2ZXIiIElEPSJidG5OZXh0IiBUZXh0PSJOZXh0IiBjbGFzcz0ibmV4dEJ1dHRvbiIgQ2F1c2VzVmFsaWRhdGlvbj0iZmFsc2UiIC8+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9saT4NCiAgICAgICAgPGxpIGNsYXNzPSJ3aXphcmRTdGVwIiBpZD0id2l6U3RlcDQiPg0KICAgICAgICAgICAgPGZpZWxkc2V0IGlkPSJjb25maXJtYXRpb24iPg0KICAgICAgICAgICAgICAgIDxsZWdlbmQ+Q29uZmlybWF0aW9uPC9sZWdlbmQ+DQogICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNvbmZpcm1hdGlvblRleHQiPlBsZWFzZSBDb25maXJtIHRoZSBpbmZvcm1hdGlvbiBiZWxvdy4gSWYgZXZlcnl0aGluZyBpcyBjb3JyZWN0IGNsaWNrIHRoZSAiRmluaXNoIEJ1dHRvbi4iPC9wPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxlZnRUYWJsZSIgaWQ9InBlcnNvbmFsSW5mb3JtYXRpb25Db25mIj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjZW50ZXJUYWJsZSIgaWQ9ImdpZnRJbmZvcm1hdGlvbkNvbmYiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJpZ2h0VGFibGUiIGlkPSJwYXltZW50SW5mb3JtYXRpb25Db25mIj48L2Rpdj4NCiAgICAgICAgICAgIDwvZmllbGRzZXQ+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zZXRXcmFwcGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b25zZXQiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0iYmFjayIgdGl0bGU9IkJhY2siPkJhY2s8L2E+DQogICAgICAgICAgICAgICAgICAgIDxhc3A6QnV0dG9uIHJ1bmF0PSJzZXJ2ZXIiIElEPSJidG5TdWJtaXQiIFRleHQ9IkZpbmlzaCIgLz4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2xpPg0KICAgICAgICA8bGkgY2xhc3M9IndpemFyZFN0ZXAiIGlkPSJ3aXpTdGVwNSI+DQogICAgICAgICAgICA8YXNwOlBsYWNlSG9sZGVyIHJ1bmF0PSJzZXJ2ZXIiIElEPSJwaFRoYW5rWW91IiAvPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0bkNsb3NlIiB2YWx1ZT0iQ2xvc2UiIC8+DQogICAgICAgIDwvbGk+DQogICAgPC91bD4NCiAgICA8ZGl2IGNsYXNzPSJyZXF1aXJlZE5vdGUiPg0KICAgICAgICAqIFJlcXVpcmVkDQogICAgPC9kaXY+DQo8L2Rpdj4=</File>
      <File path="UserControls/Custom/WVC/WVC-Open-Giving/WVCPaymentWizard.ascx.cs">77u/bmFtZXNwYWNlIEFyZW5hV2ViLlVzZXJDb250cm9scy5DdXN0b20uV1ZDDQp7DQogICAgdXNpbmcgQXJlbmEuQ29udHJpYnV0aW9uczsNCiAgICB1c2luZyBBcmVuYS5Db3JlOw0KICAgIHVzaW5nIEFyZW5hLkNvcmUuQ29tbXVuaWNhdGlvbnM7DQogICAgdXNpbmcgQXJlbmEuRXhjZXB0aW9uczsNCiAgICB1c2luZyBBcmVuYS5Pcmdhbml6YXRpb247DQogICAgdXNpbmcgQXJlbmEuUGF5bWVudDsNCiAgICB1c2luZyBBcmVuYS5Qb3J0YWw7DQogICAgdXNpbmcgQXJlbmEuUG9ydGFsLlVJOw0KICAgIHVzaW5nIEFyZW5hLlV0aWxpdHk7DQogICAgdXNpbmcgQVNQOw0KICAgIHVzaW5nIFN5c3RlbTsNCiAgICB1c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYzsNCiAgICB1c2luZyBTeXN0ZW0uVGV4dDsNCiAgICB1c2luZyBTeXN0ZW0uTGlucTsNCiAgICB1c2luZyBTeXN0ZW0uV2ViLlByb2ZpbGU7DQogICAgdXNpbmcgU3lzdGVtLldlYi5VSTsNCiAgICB1c2luZyBTeXN0ZW0uV2ViLlVJLkh0bWxDb250cm9sczsNCiAgICB1c2luZyBTeXN0ZW0uV2ViLlVJLldlYkNvbnRyb2xzOw0KICAgIHVzaW5nIEFyZW5hV2ViLlVzZXJDb250cm9scy5Db250cmlidXRpb25zOw0KDQoNCiAgICBwdWJsaWMgcGFydGlhbCBjbGFzcyBXVkNQYXltZW50V2l6YXJkIDogUG9ydGFsQ29udHJvbA0KICAgIHsNCg0KICAgICAgICBbVGV4dFNldHRpbmcoIkZ1bmQgTGlzdCIsICJCeSBkZWZhdWx0IGFsbCBhY3RpdmUgZnVuZHMgd2l0aCBhbiBvbmxpbmUgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZS4gIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBkZWZhdWx0IGxpc3Qgb2YgZnVuZHMgYnkgc3BlY2lmeWluZyBhIGNvbW1hLWRlbGltaXRlZCBsaXN0IG9mIHNwZWNpZmljIGZ1bmQgSURzIGhlcmUuIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIEZ1bmRMaXN0U2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkZ1bmRMaXN0IiwgIiIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW1RleHRTZXR0aW5nKCJBbGxvd2VkIENDIiwgIkxpc3Qgb2YgQWxsb3dhYmxlIENyZWRpdCBDYXJkcy4gU2hvdWxkIGJlIGEgbGlzdCBvZiB0aGUgZm9sbG93aW5nIHBvc3NpYmlsaXRpZXM6IEFtRXgsIENpcnJ1cywgRGluZXJzQ2x1YiwgRGlzY292ZXIsIEpDQiwgTWFlc3RybywgTWFzdGVyQ2FyZHMsIFNvbG8sIFN3aXRjaCwgVmlzYSwgRGVmYXVsdHMgdG8gOiBWaXNhLE1hc3RlckNhcmQsRGlzY292ZXIuIFBsZWFzZSBub3RlIHRoYXQgQ2FwaXRhbGl6YXRpb24gbWF0dGVycy4iLCBmYWxzZSldDQogICAgICAgIHB1YmxpYyBzdHJpbmcgQWxsb3dlZENDU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkFsbG93ZWRDQyIsICJWaXNhLE1hc3RlckNhcmQsRGlzY292ZXIiLCBmYWxzZSk7IH0gfQ0KDQogICAgICAgIFtUZXh0U2V0dGluZygiRGVmYXVsdCBGdW5kIDEiLCAiUHJlc2VsZWN0ZWQgZnVuZCBmb3IgdGhlIGZpcnN0IGZ1bmQgZHJvcGRvd24iLCBmYWxzZSldDQogICAgICAgIHB1YmxpYyBzdHJpbmcgRGVmYXVsdEZ1bmQxU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkRlZmF1bHRGdW5kMSIsICIiLCBmYWxzZSk7IH0gfQ0KDQogICAgICAgIFtUZXh0U2V0dGluZygiRGVmYXVsdCBGdW5kIDIiLCAiUHJlc2VsZWN0ZWQgZnVuZCBmb3IgdGhlIHNlY29uZCBmdW5kIGRyb3Bkb3duIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIERlZmF1bHRGdW5kMlNldHRpbmcgeyBnZXQgeyByZXR1cm4gYmFzZS5TZXR0aW5nKCJEZWZhdWx0RnVuZDIiLCAiIiwgZmFsc2UpOyB9IH0NCg0KICAgICAgICBbVGV4dFNldHRpbmcoIkRlZmF1bHQgQXJlYSBDb2RlIiwgIkFyZWEgY29kZSB0byB1c2UgaWYgdXNlciBvbmx5IGdpdmVzIDcgZGlnaXRzLiIsIGZhbHNlKV0NCiAgICAgICAgcHVibGljIHN0cmluZyBEZWZhdWx0QXJlYUNvZGVTZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIGJhc2UuU2V0dGluZygiRGVmYXVsdEFyZWFDb2RlIiwgIiIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW1RleHRTZXR0aW5nKCJHaXZlIE5vdyBUZXh0IiwgIkdpdmUgTm93IEJ1dHRvbiBUZXh0LiIsIGZhbHNlKV0NCiAgICAgICAgcHVibGljIHN0cmluZyBHaXZlTm93VGV4dFNldHRpbmcgeyBnZXQgeyByZXR1cm4gYmFzZS5TZXR0aW5nKCJHaXZlTm93VGV4dCIsICJHaXZlIE5vdyIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW1RleHRTZXR0aW5nKCJGb3Jnb3QgTG9naW4gVVJMIiwgIlVSTCBmb3IgdGhlIGZvcmdvdCBMb2dpbiBQYWdlIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcmdvdExvZ2luU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkZvcmdvdExvZ2luVVJMIiwgIiIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW1RleHRTZXR0aW5nKCJGb3Jnb3QgUGFzc3dvcmQgVVJMIiwgIlVSTCBmb3IgdGhlIGZvcmdvdCBQYXNzd29yZCBQYWdlIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcmdvdFBhc3N3b3JkU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkZvcmdvdFBhc3N3b3JkVVJMIiwgIiIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW1RleHRTZXR0aW5nKCJDaG9vc2UgTG9naW4gVGV4dCIsICJDaG9vc2UgTG9naW4gQnV0dG9uIFRleHQuIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIENob29zZUxvZ2luVGV4dFNldHRpbmcgeyBnZXQgeyByZXR1cm4gYmFzZS5TZXR0aW5nKCJDaG9vc2VMb2dpblRleHQiLCAiVXNlIE15V1ZDIiwgZmFsc2UpOyB9IH0NCg0KICAgICAgICBbVGV4dFNldHRpbmcoIkNoZWNrIEltYWdlIFVSTCIsICJVUkwgZm9yIGEgY2hlY2sgaW1hZ2UgdGhhdCBzaG93cyBob3cgdG8gbG9jYXRlIHRoZSByb3V0aW5nIG51bWJlciBhbmQgYWNjb3VudCBudW1iZXIgZnJvbSBhIGJsYW5rIGNoZWNrIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIENoZWNrSW1hZ2VVUkxTZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIGJhc2UuU2V0dGluZygiQ2hlY2tJbWFnZVVSTCIsICIiLCBmYWxzZSk7IH0gfQ0KDQogICAgICAgIFtUZXh0U2V0dGluZygiQ29tbWVudCBDYXB0aW9uIiwgIkJ5IGRlZmF1bHQgdGhlIGNvbW1lbnQgcGFzc2VkIHRvIHRoZSBwYXltZW50IHByb2Nlc3NvciB3aWxsIGluY2x1ZGUgYSBsaXN0IG9mIGZ1bmQgSURzIGFuZCBhbW91bnRzIHRoYXQgdGhlIHVzZXIgc3BlY2lmaWVkLiAgWW91IGNhbiBvcHRpb25hbGx5IHByb21wdCB0aGUgdXNlciBmb3IgYSB2YWx1ZSB0byBpbmNsdWRlIGFzIHRoZSBjb21tZW50IChpLmUuIHB1cnBvc2UpIGJ5IGluY2x1ZGluZyBhIGNhcHRpb24gaGVyZS4iLCBmYWxzZSldDQogICAgICAgIHB1YmxpYyBzdHJpbmcgQ29tbWVudENhcHRpb25TZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIGJhc2UuU2V0dGluZygiQ29tbWVudENhcHRpb24iLCAiIiwgZmFsc2UpOyB9IH0NCg0KICAgICAgICBbTnVtZXJpY1NldHRpbmcoIk1pbmltdW0gR2l2aW5nIEFtb3VudCIsICJUaGUgbWluaW11bSBjb250cmlidXRpb24gYW1vdW50IGFsbG93ZWQgYnkgdGhlIE9ubGluZSBHaXZpbmcgV2l6YXJkLiBUaGUgZGVmYXVsdCBhbW91bnQgaXMgJDAuMDEuIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIE1pbmltdW1HaXZpbmdBbW91bnRTZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIGJhc2UuU2V0dGluZygiTWluaW11bUdpdmluZ0Ftb3VudCIsICIwLjAxIiwgZmFsc2UpOyB9IH0NCg0KICAgICAgICBbTnVtZXJpY1NldHRpbmcoIk1heGltdW0gR2l2aW5nIEFtb3VudCIsICJUaGUgbWF4aW11bSBjb250cmlidXRpb24gYW1vdW50IGFsbG93ZWQgYnkgdGhlIE9ubGluZSBHaXZpbmcgV2l6YXJkLiBUaGUgZGVmYXVsdCBhbW91bnQgaXMgJDIsMTQ3LDQ4Myw2NDcuMDAiLCBmYWxzZSldDQogICAgICAgIHB1YmxpYyBzdHJpbmcgTWF4aW11bUdpdmluZ0Ftb3VudFNldHRpbmcgeyBnZXQgeyByZXR1cm4gYmFzZS5TZXR0aW5nKCJNYXhpbXVtR2l2aW5nQW1vdW50IiwgIjIxNDc0ODM2NDciLCBmYWxzZSk7IH0gfQ0KDQogICAgICAgIFtHYXRld2F5QWNjb3VudFNldHRpbmcoIkNDIFBheW1lbnQgR2F0ZXdheSBOYW1lIiwgIlRoZSBuYW1lIG9mIHRoZSBQYXltZW50IEdhdGV3YXkgdG8gdXNlIGZvciBDcmVkaXQgQ2FyZCBUcmFuc2FjdGlvbnMiLCBmYWxzZSwgQWNjb3VudFR5cGUuQ3JlZGl0X0NhcmQpXQ0KICAgICAgICBwdWJsaWMgc3RyaW5nIENDUGF5bWVudEdhdGV3YXlOYW1lU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkNDUGF5bWVudEdhdGV3YXlOYW1lIiwgIiIsIGZhbHNlKTsgfSB9DQoNCiAgICAgICAgW0dhdGV3YXlBY2NvdW50U2V0dGluZygiQUNIIFBheW1lbnQgR2F0ZXdheSBOYW1lIiwgIlRoZSBuYW1lIG9mIHRoZSBQYXltZW50IEdhdGV3YXkgdG8gdXNlIGZvciBBQ0ggVHJhbnNhY3Rpb25zIiwgZmFsc2UsIEFjY291bnRUeXBlLkFDSCldDQogICAgICAgIHB1YmxpYyBzdHJpbmcgQUNIUGF5bWVudEdhdGV3YXlOYW1lU2V0dGluZyB7IGdldCB7IHJldHVybiBiYXNlLlNldHRpbmcoIkFDSFBheW1lbnRHYXRld2F5TmFtZSIsICIiLCBmYWxzZSk7IH0gfQ0KDQogICAgICAgIFtDYW1wdXNTZXR0aW5nKCJOZXcgUGVyc29uIENhbXB1cyIsICJUaGUgY2FtcHVzIGEgbmV3IHBlcnNvbiBpcyBhc3NpZ25lZCB0byB3aGVuIGFkZGVkIHRocm91Z2ggdGhpcyBtb2R1bGUuIiwgZmFsc2UpXQ0KICAgICAgICBwdWJsaWMgaW50IE5ld1BlcnNvbkNhbXB1c1NldHRpbmcgeyBnZXQgeyByZXR1cm4gQ29udmVydC5Ub0ludDMyKFNldHRpbmcoIk5ld1BlcnNvbkNhbXB1cyIsICItMSIsIGZhbHNlKSk7IH0gfQ0KDQogICAgICAgIFtMb29rdXBTZXR0aW5nKCJOZXcgUGVyc29uIFN0YXR1cyIsICJUaGUgbWVtYmVyIHN0YXR1cyBnaXZlbiB0byBuZXcgcGVyc29ucyBhZGRlZCB0aHJvdWdoIHRoaXMgbW9kdWxlLiIsIHRydWUsICIwYjQ1MzJkYi0zMTg4LTQwZjUtYjE4OC1lN2U2ZTQ0NDhjODUiKV0NCiAgICAgICAgcHVibGljIGludCBOZXdQZXJzb25TdGF0dXNTZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIENvbnZlcnQuVG9JbnQzMihTZXR0aW5nKCJOZXdQZXJzb25TdGF0dXMiLCAiIiwgdHJ1ZSkpOyB9IH0NCg0KICAgICAgICBbUGFnZVNldHRpbmcoIkxvZ2luIFBhZ2UiLCAiVGhlIHBhZ2UgdGhhdCB0aGUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIHNob3VsZCBiZSBwb3N0ZWQgYWdhaW5zdCIsIGZhbHNlKV0NCiAgICAgICAgcHVibGljIHN0cmluZyBMb2dpblBhZ2VTZXR0aW5nIHsgZ2V0IHsgcmV0dXJuIGJhc2UuU2V0dGluZygiTG9naW5QYWdlIiwgIiIsIGZhbHNlKTsgfSB9DQogICAgICAgIA0KDQogICAgICAgIHByaXZhdGUgR2F0ZXdheUFjY291bnQgY2NHYXRld2F5QWNjdCA9IG51bGw7DQogICAgICAgIHByaXZhdGUgR2F0ZXdheUFjY291bnQgYWNoR2F0ZXdheUFjY3QgPSBudWxsOw0KICAgICAgICBwcml2YXRlIFJlcGVhdGluZ1BheW1lbnQgX3JlcGVhdGluZ1BheW1lbnQ7DQogICAgICAgIHByaXZhdGUgUGVyc29uQWRkcmVzcyBjdXJyZW50QWRkcmVzcyA9IG51bGw7DQogICAgICAgIHByaXZhdGUgQ29udHJpYnV0aW9uRnVuZENvbGxlY3Rpb24gU2VsZWN0ZWRGdW5kcyA9IG5ldyBDb250cmlidXRpb25GdW5kQ29sbGVjdGlvbigpOw0KICAgICAgICBwcml2YXRlIEZ1bmRDb2xsZWN0aW9uIEF2YWlsYWJsZUZ1bmRzID0gbmV3IEZ1bmRDb2xsZWN0aW9uKCk7DQoNCiAgICAgICAgcHJpdmF0ZSBQZXJzb24gX3BlcnNvbjsNCiAgICAgICAgcHJpdmF0ZSBib29sIF92YWxpZGF0ZUNhcmROdW1iZXIgPSB0cnVlOw0KDQogICAgICAgIHByaXZhdGUgY29uc3Qgc3RyaW5nIE1vZHVsZVVzZXJOYW1lID0gIldWQ1BheW1lbnRXaXphcmQiOw0KDQogICAgICAgIHB1YmxpYyBzdHJpbmcgQ29uZmlybWF0aW9uTnVtYmVyOw0KDQogICAgICAgIHByb3RlY3RlZCB2b2lkIFBhZ2VfSW5pdChvYmplY3Qgc2VuZGVyLCBFdmVudEFyZ3MgZSkNCiAgICAgICAgew0KICAgICAgICAgICAgSHRtbEdlbmVyaWNDb250cm9sIG9EZXNrdG9wSlMgPSBuZXcgSHRtbEdlbmVyaWNDb250cm9sKCJzY3JpcHQiKTsNCiAgICAgICAgICAgIG9EZXNrdG9wSlMuQXR0cmlidXRlcy5BZGQoInR5cGUiLCAidGV4dC9qYXZhc2NyaXB0Iik7DQogICAgICAgICAgICBvRGVza3RvcEpTLkF0dHJpYnV0ZXMuQWRkKCJzcmMiLCAiaHR0cHM6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMS43L2pxdWVyeS5taW4uanMiKTsNCiAgICAgICAgICAgIFBhZ2UuSGVhZGVyLkNvbnRyb2xzLkFkZChvRGVza3RvcEpTKTsNCg0KICAgICAgICAgICAgSHRtbEdlbmVyaWNDb250cm9sIG9EZXNrdG9wSlMxID0gbmV3IEh0bWxHZW5lcmljQ29udHJvbCgic2NyaXB0Iik7DQogICAgICAgICAgICBvRGVza3RvcEpTMS5BdHRyaWJ1dGVzLkFkZCgidHlwZSIsICJ0ZXh0L2phdmFzY3JpcHQiKTsNCiAgICAgICAgICAgIG9EZXNrdG9wSlMxLkF0dHJpYnV0ZXMuQWRkKCJzcmMiLCBSZXNvbHZlVXJsKCJqcy92ZW5kb3IvaGFuZGxlYmFycy5taW4uanMiKSk7DQogICAgICAgICAgICBQYWdlLkhlYWRlci5Db250cm9scy5BZGQob0Rlc2t0b3BKUzEpOw0KDQogICAgICAgICAgICBIdG1sR2VuZXJpY0NvbnRyb2wgb0Rlc2t0b3BKUzIgPSBuZXcgSHRtbEdlbmVyaWNDb250cm9sKCJzY3JpcHQiKTsNCiAgICAgICAgICAgIG9EZXNrdG9wSlMyLkF0dHJpYnV0ZXMuQWRkKCJ0eXBlIiwgInRleHQvamF2YXNjcmlwdCIpOw0KICAgICAgICAgICAgb0Rlc2t0b3BKUzIuQXR0cmlidXRlcy5BZGQoInNyYyIsIFJlc29sdmVVcmwoImpzL3ZlbmRvci9tb2Rlcm5penIubWluLmpzIikpOw0KICAgICAgICAgICAgUGFnZS5IZWFkZXIuQ29udHJvbHMuQWRkKG9EZXNrdG9wSlMyKTsNCg0KICAgICAgICAgICAgSHRtbEdlbmVyaWNDb250cm9sIG9EZXNrdG9wSlMzID0gbmV3IEh0bWxHZW5lcmljQ29udHJvbCgic2NyaXB0Iik7DQogICAgICAgICAgICBvRGVza3RvcEpTMy5BdHRyaWJ1dGVzLkFkZCgidHlwZSIsICJ0ZXh0L2phdmFzY3JpcHQiKTsNCiAgICAgICAgICAgIG9EZXNrdG9wSlMzLkF0dHJpYnV0ZXMuQWRkKCJzcmMiLCBSZXNvbHZlVXJsKCJqcy9hcHAuanMiKSk7DQogICAgICAgICAgICBQYWdlLkhlYWRlci5Db250cm9scy5BZGQob0Rlc2t0b3BKUzMpOw0KDQogICAgICAgICAgICBIdG1sR2VuZXJpY0NvbnRyb2wgb0Rlc2t0b3BKUzQgPSBuZXcgSHRtbEdlbmVyaWNDb250cm9sKCJzY3JpcHQiKTsNCiAgICAgICAgICAgIG9EZXNrdG9wSlM0LkF0dHJpYnV0ZXMuQWRkKCJ0eXBlIiwgInRleHQvamF2YXNjcmlwdCIpOw0KICAgICAgICAgICAgb0Rlc2t0b3BKUzQuQXR0cmlidXRlcy5BZGQoInNyYyIsIFJlc29sdmVVcmwoImpzL2NjLmpzIikpOw0KICAgICAgICAgICAgUGFnZS5IZWFkZXIuQ29udHJvbHMuQWRkKG9EZXNrdG9wSlM0KTsNCg0KICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBhQ0NMaXN0ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsNCiAgICAgICAgICAgIGFDQ0xpc3QuQXBwZW5kKCJ2YXIgYWxsb3dlZENDID0gXCIiKTsNCiAgICAgICAgICAgIGFDQ0xpc3QuQXBwZW5kKEFsbG93ZWRDQ1NldHRpbmcpOw0KICAgICAgICAgICAgYUNDTGlzdC5BcHBlbmQoIlwiOyIpOw0KDQoNCg0KICAgICAgICAgICAgSHRtbEdlbmVyaWNDb250cm9sIEFsbG93ZWRDQ0xpc3QgPSBuZXcgSHRtbEdlbmVyaWNDb250cm9sKCJzY3JpcHQiKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIElubmVySHRtbCA9IGFDQ0xpc3QuVG9TdHJpbmcoKQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIEFsbG93ZWRDQ0xpc3QuQXR0cmlidXRlcy5BZGQoInR5cGUiLCAidGV4dC9qYXZhc2NyaXB0Iik7DQogICAgICAgICAgICBBbGxvd2VkQ0NMaXN0LkF0dHJpYnV0ZXMuQWRkKCJpZCIsICJBbGxvd2VkQ2FyZExpc3QiKTsNCiAgICAgICAgICAgIFBhZ2UuSGVhZGVyLkNvbnRyb2xzLkFkZChBbGxvd2VkQ0NMaXN0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHByb3RlY3RlZCB2b2lkIFBhZ2VfTG9hZChvYmplY3QgT2JqZWN0LCBFdmVudEFyZ3MgZSkNCiAgICAgICAgew0KICAgICAgICAgICAgUGFnZS5IZWFkZXIuQ29udHJvbHMuQWRkKA0KICAgICAgICAgICAgICAgIG5ldyBMaXRlcmFsQ29udHJvbCgiPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIiICsgUmVzb2x2ZVVybCgiY3NzL3N0eWxlLmNzcyIpICsgIlwiIC8+IikpOw0KDQogICAgICAgICAgICBpZiAoIUlzUG9zdEJhY2spDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgUG9wdWxhdGVTdGF0aWNDb250cm9scygpOw0KICAgICAgICAgICAgICAgIHRoaXMuaW1nQ2hlY2tJbWFnZS5JbWFnZVVybCA9IHRoaXMuQ2hlY2tJbWFnZVVSTFNldHRpbmc7DQogICAgICAgICAgICAgICAgdGhpcy50YkNvbW1lbnQuQXR0cmlidXRlc1sicGxhY2Vob2xkZXIiXSA9IHRoaXMuQ29tbWVudENhcHRpb25TZXR0aW5nOw0KICAgICAgICAgICAgICAgIHRoaXMuaGZUcmFja2VyLlZhbHVlID0gIjAiOw0KICAgICAgICAgICAgICAgIHRoaXMuYnRuQ2hvb3NlTG9naW4uVmFsdWUgPSB0aGlzLkNob29zZUxvZ2luVGV4dFNldHRpbmc7DQogICAgICAgICAgICAgICAgdGhpcy5idG5HaXZlTm93LlZhbHVlID0gdGhpcy5HaXZlTm93VGV4dFNldHRpbmc7DQogICAgICAgICAgICAgICAgdGhpcy5oZkxvZ2luTG9jYXRpb24uVmFsdWUgPSBQYWdlLlJlc29sdmVVcmwoImRlZmF1bHQuYXNweD9wYWdlPSIrdGhpcy5Mb2dpblBhZ2VTZXR0aW5nLlRvU3RyaW5nKCkpLlRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgdGhpcy5mb3Jnb3RMb2dpbi5OYXZpZ2F0ZVVybCA9IHRoaXMuRm9yZ290TG9naW5TZXR0aW5nOw0KICAgICAgICAgICAgICAgIHRoaXMuZm9yZ290UGFzc3dvcmQuTmF2aWdhdGVVcmwgPSB0aGlzLkZvcmdvdFBhc3N3b3JkU2V0dGluZzsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgc3dpdGNoKGhmVHJhY2tlci5WYWx1ZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgIjEiOg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9hc3N1bWluZyBhbGwgZGF0YSBpcyBjb3JyZWN0DQogICAgICAgICAgICAgICAgICAgICAgICBpbnQgaVBlcnNvbklkID0gR2V0UGVyc29uSWRGcm9tSW5wdXREYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaVBlcnNvbklkICE9IDApDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGVyc29uIHBlcnNvbiA9IG5ldyBQZXJzb24oaVBlcnNvbklkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZXJzb24gPSBuZXcgUGVyc29uKGlQZXJzb25JZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZWxlY3RlZEZ1bmRzID0gR2V0U2VsZWN0ZWRGdW5kQ29sbGVjdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLlN1Ym1pdFByZUF1dGhvcml6YXRpb24oKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRDb25maXJtYXRpb25TY3JlZW4ocGVyc29uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZlRyYWNrZXIuVmFsdWUgPSAiMiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgIjIiOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuU3VibWl0VHJhbnNhY3Rpb24oKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkVGhhbmtZb3UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhmVHJhY2tlci5WYWx1ZSA9ICIzIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyANCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHByb3RlY3RlZCB2b2lkIGJ1aWxkQ29uZmlybWF0aW9uU2NyZWVuKFBlcnNvbiBwZXJzb24pDQogICAgICAgIHsNCiAgICAgICAgICAgIEh0bWxHZW5lcmljQ29udHJvbCB0ZW1wbGF0ZSA9IG5ldyBIdG1sR2VuZXJpY0NvbnRyb2woInNjcmlwdCIpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgSW5uZXJIdG1sID0gIjx0YWJsZSBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBjbGFzcz1cImNvbmZpcm1hdGlvbkRhdGFcIj57eyNlYWNoIGluZm99fTx0cj48dGQgY2xhc3M9XCJsYWJlbFwiPnt7bGFiZWx9fTwvdGQ+PHRkIGNsYXNzPVwiZGF0YVwiPnt7e2RhdGF9fX0mbmJzcDs8L3RkPjwvdHI+e3svZWFjaH19PC90YWJsZT4iDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGVtcGxhdGUuQXR0cmlidXRlcy5BZGQoInR5cGUiLCAidGV4dC94LWhhbmRsZWJhcnMtdGVtcGxhdGUiKTsNCiAgICAgICAgICAgIHRlbXBsYXRlLkF0dHJpYnV0ZXMuQWRkKCJpZCIsICJkYXRhdGFibGUtdGVtcGxhdGUiKTsNCiAgICAgICAgICAgIFBhZ2UuSGVhZGVyLkNvbnRyb2xzLkFkZCh0ZW1wbGF0ZSk7DQoNCg0KICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBjb25mRGF0YSA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7DQoNCiAgICAgICAgICAgIGNvbmZEYXRhLkFwcGVuZCgidmFyIHBlcnNvbkRhdGE9eyBpbmZvOiBbIik7DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIntsYWJlbDpcIk5hbWVcIixkYXRhOlwiIiArIHBlcnNvbi5GdWxsTmFtZSArICJcIn0sIik7DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIntsYWJlbDpcIkVtYWlsIEFkZHJlc3NcIixkYXRhOlwiIiArIHBlcnNvbi5FbWFpbHMuRmlyc3RBY3RpdmUgKyAiXCJ9LCIpOw0KICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ7bGFiZWw6XCJQaG9uZVwiLGRhdGE6XCIiICsgcGVyc29uLlBob25lcy5GaW5kQnlUeXBlKDI3NikgKyAiXCJ9LCIpOw0KICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ7bGFiZWw6XCJBZGRyZXNzXCIsZGF0YTpcIiIgKyB0aGlzLmN1cnJlbnRBZGRyZXNzLkFkZHJlc3MuU3RyZWV0TGluZTEgKyAiPGJyPiIgKyB0aGlzLmN1cnJlbnRBZGRyZXNzLkFkZHJlc3MuQ2l0eSArICIsICIgKyB0aGlzLmN1cnJlbnRBZGRyZXNzLkFkZHJlc3MuU3RhdGUgKyAiPGJyPiIgKyB0aGlzLmN1cnJlbnRBZGRyZXNzLkFkZHJlc3MuUG9zdGFsQ29kZSArICJcIn0sIik7DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIntsYWJlbDpcIkNvdW50cnlcIixkYXRhOlwiIiArIHRoaXMuY3VycmVudEFkZHJlc3MuQWRkcmVzcy5Db3VudHJ5ICsgIlwifSIpOw0KICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJdfTsiKTsNCg0KICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kTGluZSgpOw0KICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ2YXIgZ2lmdERhdGE9eyBpbmZvOiBbIik7DQoNCiAgICAgICAgICAgIGZvcmVhY2ggKENvbnRyaWJ1dGlvbkZ1bmQgY29udHJpYkZ1bmQgaW4gdGhpcy5TZWxlY3RlZEZ1bmRzKSB7DQogICAgICAgICAgICAgICAgRnVuZCBjdXJGdW5kID0gbmV3IEZ1bmQoQ29udmVydC5Ub0ludDE2KGNvbnRyaWJGdW5kLkZ1bmRJZCkpOw0KICAgICAgICAgICAgICAgIGNvbmZEYXRhLkFwcGVuZCgie2xhYmVsOlwiIiArIGN1ckZ1bmQuT25saW5lTmFtZSArICJcIixkYXRhOlwiIiArIFN0cmluZy5Gb3JtYXQoInswOkN9IiwgY29udHJpYkZ1bmQuQW1vdW50KSArICJcIn0sIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIntsYWJlbDpcIlwiLGRhdGE6XCJcIn0sIik7DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIntsYWJlbDpcIlRvdGFsXCIsZGF0YTpcIiIgKyBTdHJpbmcuRm9ybWF0KCJ7MDpDfSIsIENvbnZlcnQuVG9EZWNpbWFsKGhmVG90YWxDb250cmlidXRpb24uVmFsdWUpKS5Ub1N0cmluZygpICsgIlwifSwiKTsNCiAgICAgICAgICAgIGNvbmZEYXRhLkFwcGVuZCgie2xhYmVsOlwiTWVtb1wiLGRhdGE6XCIiICsgdGJDb21tZW50LlRleHQgKyAiXCJ9Iik7DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIl19OyIpOw0KDQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoInZhciBwYXltZW50RGF0YT17IGluZm86IFsiKTsNCiAgICAgICAgICAgIGNvbmZEYXRhLkFwcGVuZCgie2xhYmVsOlwiUGF5bWVudCBEYXRhXCIsZGF0YTpcIiIgKyByYmxQYXltZW50TWV0aG9kLlNlbGVjdGVkSXRlbS5UZXh0ICsgIlwifSwiKTsNCiAgICAgICAgICAgIGNvbmZEYXRhLkFwcGVuZCgie2xhYmVsOlwiQWNjb3VudCBOdW1iZXJcIixkYXRhOlwiIiArIE1hc2tBY2NvdW50TnVtYmVyKHRiQWNjb3VudE51bWJlci5UZXh0KSArIE1hc2tBY2NvdW50TnVtYmVyKHRiQ0NOdW1iZXIuVGV4dCkgKyAiXCJ9LCIpOw0KICAgICAgICAgICAgaWYgKHRiUm91dGluZ051bWJlci5UZXh0Lkxlbmd0aCA+IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ7bGFiZWw6XCJCYW5rIE5hbWVcIixkYXRhOlwiIiArIHRiQmFua05hbWUuVGV4dCArICJcIn0sIik7DQogICAgICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ7bGFiZWw6XCJSb3V0aW5nIE51bWJlclwiLGRhdGE6XCIiICsgdGJSb3V0aW5nTnVtYmVyLlRleHQgKyAiXCJ9Iik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodGJDQ051bWJlci5UZXh0Lkxlbmd0aCA+IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY29uZkRhdGEuQXBwZW5kKCJ7bGFiZWw6XCJFeHBpcmF0aW9uIERhdGVcIixkYXRhOlwiIiArIGRkbEV4cE1vbnRoLlNlbGVjdGVkVmFsdWUgKyAiLyIgKyBkZGxFeHBZZWFyLlNlbGVjdGVkVmFsdWUgKyAiXCJ9Iik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25mRGF0YS5BcHBlbmQoIl19OyIpOw0KDQogICAgICAgICAgICBIdG1sR2VuZXJpY0NvbnRyb2wgdGVtcGxhdGVEYXRhID0gbmV3IEh0bWxHZW5lcmljQ29udHJvbCgic2NyaXB0IikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBJbm5lckh0bWwgPSBjb25mRGF0YS5Ub1N0cmluZygpDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICB0ZW1wbGF0ZURhdGEuQXR0cmlidXRlcy5BZGQoInR5cGUiLCAidGV4dC9qYXZhc2NyaXB0Iik7DQogICAgICAgICAgICBQYWdlLkhlYWRlci5Db250cm9scy5BZGQodGVtcGxhdGVEYXRhKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHByb3RlY3RlZCB2b2lkIGJ1aWxkVGhhbmtZb3UoKQ0KICAgICAgICB7DQoNCg0KICAgICAgICB9DQoNCiAgICAgICAgcHJvdGVjdGVkIHZvaWQgUG9wdWxhdGVTdGF0aWNDb250cm9scygpDQogICAgICAgIHsNCiAgICAgICAgICAgIGZvciAoaW50IG1vbnRoID0gMTsgbW9udGggPD0gMTI7IG1vbnRoKyspDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZGRsRXhwTW9udGguSXRlbXMuQWRkKG5ldyBMaXN0SXRlbShzdHJpbmcuRm9ybWF0KCJ7MDowMH0iLCBtb250aCksIG1vbnRoLlRvU3RyaW5nKCkpKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZm9yIChpbnQgeWVhciA9IERhdGVUaW1lLk5vdy5ZZWFyOyB5ZWFyIDw9IERhdGVUaW1lLk5vdy5ZZWFyICsgNzsgeWVhcisrKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGRkbEV4cFllYXIuSXRlbXMuQWRkKG5ldyBMaXN0SXRlbSh5ZWFyLlRvU3RyaW5nKCksIHllYXIuVG9TdHJpbmcoKSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGRsQWNjb3VudFR5cGUuSXRlbXMuQWRkKG5ldyBMaXN0SXRlbSgiQ2hlY2tpbmciLCAiQ2hlY2tpbmciKSk7DQogICAgICAgICAgICBkZGxBY2NvdW50VHlwZS5JdGVtcy5BZGQobmV3IExpc3RJdGVtKCJTYXZpbmdzIiwgIlNhdmluZ3MiKSk7DQogICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQxLkl0ZW1zLkFkZChuZXcgTGlzdEl0ZW0oKSk7DQogICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQyLkl0ZW1zLkFkZChuZXcgTGlzdEl0ZW0oKSk7DQogICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQzLkl0ZW1zLkFkZChuZXcgTGlzdEl0ZW0oKSk7DQoNCiAgICAgICAgICAgIA0KDQogICAgICAgICAgICBzdHJpbmdbXSBzZWxlY3RlZEZ1bmRzID0gdGhpcy5GdW5kTGlzdFNldHRpbmcuU3BsaXQoJywnKS5TZWxlY3Qoc1ZhbHVlID0+IHNWYWx1ZS5UcmltKCkpLlRvQXJyYXkoKTsNCiAgICAgICAgICAgIGZvcmVhY2ggKHN0cmluZyBpdGVtIGluIHNlbGVjdGVkRnVuZHMpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgRnVuZCBjdXJGdW5kID0gbmV3IEZ1bmQoQ29udmVydC5Ub0ludDE2KGl0ZW0pKTsNCiAgICAgICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQxLkl0ZW1zLkFkZChuZXcgTGlzdEl0ZW0oY3VyRnVuZC5PbmxpbmVOYW1lLGl0ZW0pKTsNCiAgICAgICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQyLkl0ZW1zLkFkZChuZXcgTGlzdEl0ZW0oY3VyRnVuZC5PbmxpbmVOYW1lLCBpdGVtKSk7DQogICAgICAgICAgICAgICAgZGRsU2VsZWN0ZWRGdW5kMy5JdGVtcy5BZGQobmV3IExpc3RJdGVtKGN1ckZ1bmQuT25saW5lTmFtZSwgaXRlbSkpOw0KICAgICAgICAgICAgICAgIHRoaXMuQXZhaWxhYmxlRnVuZHMuQWRkKGN1ckZ1bmQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChpdGVtID09IERlZmF1bHRGdW5kMVNldHRpbmcpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBkZGxTZWxlY3RlZEZ1bmQxLlNlbGVjdGVkVmFsdWUgPSBpdGVtOyANCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PSBEZWZhdWx0RnVuZDJTZXR0aW5nKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZGRsU2VsZWN0ZWRGdW5kMi5TZWxlY3RlZFZhbHVlID0gaXRlbTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHByb3RlY3RlZCBpbnQgR2V0UGVyc29uSWRGcm9tSW5wdXREYXRhKCkNCiAgICAgICAgew0KICAgICAgICAgICAgc3RyaW5nIHNGaXJzdE5hbWUgPSB0YkZpcnN0TmFtZS5UZXh0Ow0KICAgICAgICAgICAgc3RyaW5nIHNMYXN0TmFtZSA9IHRiTGFzdE5hbWUuVGV4dDsNCiAgICAgICAgICAgIHN0cmluZyBzRW1haWwgPSB0YkVtYWlsLlRleHQ7DQogICAgICAgICAgICBzdHJpbmcgc0FkZHJlc3MgPSB0YkFkZHJlc3MxLlRleHQ7DQogICAgICAgICAgICBzdHJpbmcgc0NpdHkgPSB0YkNpdHkuVGV4dDsNCiAgICAgICAgICAgIHN0cmluZyBzU3RhdGUgPSB0YlN0YXRlLlRleHQ7DQogICAgICAgICAgICBzdHJpbmcgc1ppcCA9IHRiWmlwLlRleHQ7DQogICAgICAgICAgICBzdHJpbmcgc1Bob25lID0gdGJQaG9uZS5UZXh0Ow0KDQogICAgICAgICAgICBQZXJzb25Db2xsZWN0aW9uIHBlcnNvbkNvbGxlY3Rpb24gPSBuZXcgUGVyc29uQ29sbGVjdGlvbigpOw0KICAgICAgICAgICAgcGVyc29uQ29sbGVjdGlvbi5Mb2FkQnlFbWFpbChzRW1haWwpOw0KDQogICAgICAgICAgICBpbnQgaUZvdW5kUGVyc29uSWQgPSAtMTsNCiAgICAgICAgICAgIGZvcmVhY2ggKFBlcnNvbiBwZXJzb24gaW4gcGVyc29uQ29sbGVjdGlvbikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBQZXJzb25QaG9uZSBwaG9uZVNlYXJjaCA9IG5ldyBQZXJzb25QaG9uZShwZXJzb24uUGVyc29uSUQsIEZvcm1hdFBob25lKHNQaG9uZSkpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmICgocGhvbmVTZWFyY2guUGVyc29uSUQgPT0gcGVyc29uLlBlcnNvbklEKSAmJiAocGVyc29uLkxhc3ROYW1lLlRvTG93ZXIoKSA9PSBzTGFzdE5hbWUuVG9Mb3dlcigpKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlGb3VuZFBlcnNvbklkID0gcGVyc29uLlBlcnNvbklEOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRBZGRyZXNzID0gcGVyc29uLkFkZHJlc3Nlcy5GaW5kQnlUeXBlKDQxKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpRm91bmRQZXJzb25JZCA+IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgLy9wZXJzb24gaW4gdGhlIGRiDQogICAgICAgICAgICAgICAgLy9lYXN5IHJpZGUuLi4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAvL2NyZWF0ZSB0aGUgZmFtaWx5IGZvciB0aGUgcGVyc29uDQogICAgICAgICAgICAgICAgRmFtaWx5IGZhbWlseSA9IG5ldyBGYW1pbHkoKTsNCiAgICAgICAgICAgICAgICBmYW1pbHkuT3JnYW5pemF0aW9uSUQgPSBDdXJyZW50QXJlbmFDb250ZXh0Lk9yZ2FuaXphdGlvbi5Pcmdhbml6YXRpb25JRDsNCiAgICAgICAgICAgICAgICBmYW1pbHkuRmFtaWx5TmFtZSA9IHNMYXN0TmFtZSArICIgRmFtaWx5IjsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvL2FkZCBwZXJzb24gdG8gdGhlIGZhbWlseQ0KICAgICAgICAgICAgICAgIEZhbWlseU1lbWJlciBmYW1pbHlNZW1iZXIgPSBuZXcgRmFtaWx5TWVtYmVyKCk7DQogICAgICAgICAgICAgICAgZmFtaWx5LkZhbWlseU1lbWJlcnMuQWRkKGZhbWlseU1lbWJlcik7DQoNCiAgICAgICAgICAgICAgICAvLw0KICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBzb21lIG9mIHRoZSBiYXNpY3MgYXJlIHNldCBjb3JyZWN0bHkuDQogICAgICAgICAgICAgICAgLy8NCiAgICAgICAgICAgICAgICBpZiAoKGZhbWlseU1lbWJlci5DYW1wdXMgPT0gbnVsbCB8fCBmYW1pbHlNZW1iZXIuQ2FtcHVzLkNhbXB1c0lkID09IC0xKSAmJiBOZXdQZXJzb25DYW1wdXNTZXR0aW5nICE9IC0xKQ0KICAgICAgICAgICAgICAgICAgICBmYW1pbHlNZW1iZXIuQ2FtcHVzID0gbmV3IENhbXB1cyhOZXdQZXJzb25DYW1wdXNTZXR0aW5nKTsNCiAgICAgICAgICAgICAgICBpZiAoZmFtaWx5TWVtYmVyLk1lbWJlclN0YXR1cyA9PSBudWxsIHx8IGZhbWlseU1lbWJlci5NZW1iZXJTdGF0dXMuTG9va3VwSUQgPT0gLTEpDQogICAgICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5NZW1iZXJTdGF0dXMgPSBuZXcgTG9va3VwKE5ld1BlcnNvblN0YXR1c1NldHRpbmcpOw0KICAgICAgICAgICAgICAgIGlmIChmYW1pbHlNZW1iZXIuUmVjb3JkU3RhdHVzID09IEFyZW5hLkVudW1zLlJlY29yZFN0YXR1cy5VbmRlZmluZWQpDQogICAgICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5SZWNvcmRTdGF0dXMgPSBBcmVuYS5FbnVtcy5SZWNvcmRTdGF0dXMuUGVuZGluZzsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvL2FkZCBwZXJzb24gdG8gdGhlIGRiDQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLkZpcnN0TmFtZSA9IHNGaXJzdE5hbWU7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLkZpcnN0TmFtZSA9IHNGaXJzdE5hbWU7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLkxhc3ROYW1lID0gc0xhc3ROYW1lOw0KICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5GYW1pbHlSb2xlID0gbmV3IExvb2t1cChuZXcgR3VpZCgiZTQxMGUxYTYtODcxNS00YmZiLWJmMDMtMWNkMTgwNTFmODE1IikpOw0KICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5HZW5kZXIgPSBBcmVuYS5FbnVtcy5HZW5kZXIuVW5rbm93bjsNCiAgICAgICAgICAgICAgICBmYW1pbHlNZW1iZXIuTWFyaXRhbFN0YXR1cyA9IG5ldyBMb29rdXAobmV3IEd1aWQoIjlDMDAwQ0YyLTY3N0ItNDcyNS05ODFFLUJENTU1RkRBRkIzMCIpKTsNCg0KICAgICAgICAgICAgICAgIC8vYWRkIGVtYWlsIHRvIGRiIGFuZCBwZXJzb24gdG8gZW1haWwNCiAgICAgICAgICAgICAgICBQZXJzb25FbWFpbCBwZXJzb25FbWFpbCA9IG5ldyBQZXJzb25FbWFpbCgpOw0KICAgICAgICAgICAgICAgIHBlcnNvbkVtYWlsLkVtYWlsID0gc0VtYWlsOw0KICAgICAgICAgICAgICAgIHBlcnNvbkVtYWlsLkFjdGl2ZSA9IHRydWU7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLkVtYWlscy5BZGQocGVyc29uRW1haWwpOw0KDQogICAgICAgICAgICAgICAgLy9hZGQgYWRkcmVzcyB0byBkYiBhbmQgcGVyc29uIHRvIGFkZHJlc3MNCiAgICAgICAgICAgICAgICBQZXJzb25BZGRyZXNzIHBlcnNvbkFkZHJlc3MgPSBuZXcgUGVyc29uQWRkcmVzcygpOw0KICAgICAgICAgICAgICAgIHBlcnNvbkFkZHJlc3MuQWRkcmVzcy5TdHJlZXRMaW5lMSA9IHNBZGRyZXNzOw0KICAgICAgICAgICAgICAgIHBlcnNvbkFkZHJlc3MuQWRkcmVzcy5DaXR5ID0gc0NpdHk7DQogICAgICAgICAgICAgICAgcGVyc29uQWRkcmVzcy5BZGRyZXNzLlN0YXRlID0gc1N0YXRlOw0KICAgICAgICAgICAgICAgIHBlcnNvbkFkZHJlc3MuQWRkcmVzcy5Qb3N0YWxDb2RlID0gc1ppcDsNCiAgICAgICAgICAgICAgICBwZXJzb25BZGRyZXNzLkFkZHJlc3NUeXBlID0gbmV3IExvb2t1cCg0MSk7DQogICAgICAgICAgICAgICAgcGVyc29uQWRkcmVzcy5BZGRyZXNzLlN0YW5kYXJkaXplKCk7DQogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QWRkcmVzcyA9IHBlcnNvbkFkZHJlc3M7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLkFkZHJlc3Nlcy5BZGQocGVyc29uQWRkcmVzcyk7DQoNCiAgICAgICAgICAgICAgICAvL2FkZCBwaG9uZSB0byBkYiBhbmQgcGVyc29uIHRvIHBob25lDQogICAgICAgICAgICAgICAgUGVyc29uUGhvbmUgcGVyc29uUGhvbmUgPSBuZXcgUGVyc29uUGhvbmUoKTsNCiAgICAgICAgICAgICAgICBwZXJzb25QaG9uZS5QaG9uZVR5cGUgPSBuZXcgTG9va3VwKG5ldyBHdWlkKCJmMmEwZmJhMi1kNWFiLTQyMWYtYTVhYi0wYzY3ZGI2ZmQ3MmUiKSk7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLlBob25lcy5BZGQocGVyc29uUGhvbmUpOw0KICAgICAgICAgICAgICAgIHBlcnNvblBob25lLk51bWJlciA9IEZvcm1hdFBob25lKHNQaG9uZSk7DQoNCiAgICAgICAgICAgICAgICAvL1NhdmUgQWxsDQogICAgICAgICAgICAgICAgZmFtaWx5LlNhdmUoTW9kdWxlVXNlck5hbWUpOw0KICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5TYXZlKEN1cnJlbnRPcmdhbml6YXRpb24uT3JnYW5pemF0aW9uSUQsIE1vZHVsZVVzZXJOYW1lLCB0cnVlKTsNCiAgICAgICAgICAgICAgICBmYW1pbHlNZW1iZXIuU2F2ZUVtYWlscyhDdXJyZW50UG9ydGFsLk9yZ2FuaXphdGlvbklELCBNb2R1bGVVc2VyTmFtZSk7DQogICAgICAgICAgICAgICAgZmFtaWx5TWVtYmVyLlNhdmVBZGRyZXNzZXMoQ3VycmVudFBvcnRhbC5Pcmdhbml6YXRpb25JRCwgTW9kdWxlVXNlck5hbWUpOw0KICAgICAgICAgICAgICAgIGZhbWlseU1lbWJlci5TYXZlUGhvbmVzKEN1cnJlbnRQb3J0YWwuT3JnYW5pemF0aW9uSUQsIE1vZHVsZVVzZXJOYW1lKTsNCiAgICAgICAgICAgICAgICBmYW1pbHlNZW1iZXIuU2F2ZShDdXJyZW50VXNlci5JZGVudGl0eS5OYW1lKTsNCg0KICAgICAgICAgICAgICAgIGlGb3VuZFBlcnNvbklkID0gZmFtaWx5TWVtYmVyLlBlcnNvbklEOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gaUZvdW5kUGVyc29uSWQ7DQogICAgICAgIH0NCg0KICAgICAgICBwcml2YXRlIHZvaWQgTG9hZEdhdGV3YXlzKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKHRoaXMuQ0NQYXltZW50R2F0ZXdheU5hbWVTZXR0aW5nLlRyaW0oKSAhPSBzdHJpbmcuRW1wdHkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdHJ5DQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNjR2F0ZXdheUFjY3QgPSBuZXcgR2F0ZXdheUFjY291bnQoaW50LlBhcnNlKHRoaXMuQ0NQYXltZW50R2F0ZXdheU5hbWVTZXR0aW5nLlRyaW0oKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodGhpcy5BQ0hQYXltZW50R2F0ZXdheU5hbWVTZXR0aW5nLlRyaW0oKSAhPSBzdHJpbmcuRW1wdHkpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdHJ5DQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFjaEdhdGV3YXlBY2N0ID0gbmV3IEdhdGV3YXlBY2NvdW50KGludC5QYXJzZSh0aGlzLkFDSFBheW1lbnRHYXRld2F5TmFtZVNldHRpbmcuVHJpbSgpKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgc3RyaW5nIEZvcm1hdFBob25lKHN0cmluZyBpbnB1dFBob25lKQ0KICAgICAgICB7DQogICAgICAgICAgICBzdHJpbmcgZm9ybWF0dGVkUGhvbmUgPSAiZmFsc2UiOw0KICAgICAgICAgICAgc3dpdGNoIChpbnB1dFBob25lLkxlbmd0aCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjYXNlIDEwOg0KICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQaG9uZSA9ICAoIigiICsgaW5wdXRQaG9uZS5TdWJzdHJpbmcoMCwgMykgKyAiKSAiICsgaW5wdXRQaG9uZS5TdWJzdHJpbmcoMywgMykgKyAiLSIgKyBpbnB1dFBob25lLlN1YnN0cmluZyg2KSk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGhvbmUgPSAoIig3MTkpICIgKyBpbnB1dFBob25lLlN1YnN0cmluZygwLCAzKSArICItIiArIGlucHV0UGhvbmUuU3Vic3RyaW5nKDMpKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRQaG9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgc3RyaW5nIE1hc2tBY2NvdW50TnVtYmVyKHN0cmluZyBhY2NvdW50TnVtYmVyKQ0KICAgICAgICB7DQogICAgICAgICAgICBzdHJpbmcgdGV4dCA9ICIiOw0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhY2NvdW50TnVtYmVyLkxlbmd0aCAtIDQ7IGkrKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0ZXh0ICs9ICJYIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChhY2NvdW50TnVtYmVyLkxlbmd0aCAtIDQgPiAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRleHQgKz0gYWNjb3VudE51bWJlci5TdWJzdHJpbmcoYWNjb3VudE51bWJlci5MZW5ndGggLSA0LCA0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0ZXh0Ow0KICAgICAgICB9DQoNCiAgICAgICAgLy9TdHViIGZvciBlcnJvciBtZXNzYWdpbmcNCiAgICAgICAgcHJpdmF0ZSB2b2lkIERpc3BsYXlFcnJvcihzdHJpbmcgZXJyb3JNZXMpDQogICAgICAgIHsNCiAgICAgICAgICAgIHRoaXMuaGZFcnJvck1lc3NhZ2UuVmFsdWUgPSBlcnJvck1lczsNCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgdm9pZCBEaXNwbGF5RXJyb3Ioc3RyaW5nIGhlYWRlciwgTGlzdDxzdHJpbmc+IGVycm9yTXNncykNCiAgICAgICAgew0KICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBzdHJpbmdCdWlsZGVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsNCiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIuQXBwZW5kRm9ybWF0KCJ7MH1cbiIsIGhlYWRlcik7DQogICAgICAgICAgICBzdHJpbmdCdWlsZGVyLkFwcGVuZCgiPHVsPlxuIik7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGVycm9yTXNncy5Db3VudDsgaSsrKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIuQXBwZW5kRm9ybWF0KCI8bGk+ezB9PC9saT5cbiIsIGVycm9yTXNnc1tpXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzdHJpbmdCdWlsZGVyLkFwcGVuZCgiPC91bD5cbiIpOw0KICAgICAgICAgICAgdGhpcy5EaXNwbGF5RXJyb3Ioc3RyaW5nQnVpbGRlci5Ub1N0cmluZygpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHByaXZhdGUgQ29udHJpYnV0aW9uRnVuZENvbGxlY3Rpb24gR2V0U2VsZWN0ZWRGdW5kQ29sbGVjdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIENvbnRyaWJ1dGlvbkZ1bmRDb2xsZWN0aW9uIGNvbnRyaWJ1dGlvbkZ1bmRDb2xsZWN0aW9uID0gbmV3IENvbnRyaWJ1dGlvbkZ1bmRDb2xsZWN0aW9uKCk7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMTsgaSA8PSAzOyBpKyspDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgRHJvcERvd25MaXN0IGN1ckRyb3AgPSAoRHJvcERvd25MaXN0KUZpbmRDb250cm9sUmVjdXJzaXZlKFBhZ2UsICJkZGxTZWxlY3RlZEZ1bmQiICsgaS5Ub1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICBUZXh0Qm94IGN1ckFtb3VudCA9IChUZXh0Qm94KUZpbmRDb250cm9sUmVjdXJzaXZlKFBhZ2UsICJ0YlNlbGVjdGVkRnVuZCIgKyBpLlRvU3RyaW5nKCkgKyAiQW1vdW50Iik7DQogICAgICAgICAgICAgICAgaWYgKChjdXJEcm9wLlNlbGVjdGVkVmFsdWUuTGVuZ3RoID4gMCkgJiYgKGN1ckFtb3VudC5UZXh0Lkxlbmd0aCA+IDApKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0aW9uRnVuZENvbGxlY3Rpb24uQWRkKG5ldyBDb250cmlidXRpb25GdW5kDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmRJZCA9IENvbnZlcnQuVG9JbnQxNihjdXJEcm9wLlNlbGVjdGVkVmFsdWUpLA0KICAgICAgICAgICAgICAgICAgICAgICAgQW1vdW50ID0gQ29udmVydC5Ub0RlY2ltYWwoY3VyQW1vdW50LlRleHQpDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gY29udHJpYnV0aW9uRnVuZENvbGxlY3Rpb247DQogICAgICAgIH0NCg0KICAgICAgICBwcml2YXRlIGJvb2wgU3VibWl0UHJlQXV0aG9yaXphdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIHRyeQ0KICAgICAgICAgICAgew0KDQogICAgICAgICAgICAgICAgZGVjaW1hbCB0b3RhbEFtb3VudCA9IENvbnZlcnQuVG9EZWNpbWFsKHRoaXMuaGZUb3RhbENvbnRyaWJ1dGlvbi5WYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIEdhdGV3YXlBY2NvdW50IGdhdGV3YXlBY2NvdW50Ow0KICAgICAgICAgICAgICAgICAgICBpZiAocmJsUGF5bWVudE1ldGhvZC5TZWxlY3RlZFZhbHVlID09ICJDQyIpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlBY2NvdW50ID0gdGhpcy5jY0dhdGV3YXlBY2N0Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgZ2F0ZXdheUFjY291bnQgPSB0aGlzLmFjaEdhdGV3YXlBY2N0Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIFByb2Nlc3NvciBwcm9jZXNzb3JDbGFzcyA9IFByb2Nlc3Nvci5HZXRQcm9jZXNzb3JDbGFzcyhnYXRld2F5QWNjb3VudC5QYXltZW50UHJvY2Vzc29yKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NvckNsYXNzICE9IG51bGwgJiYgcHJvY2Vzc29yQ2xhc3MuVHJhbnNhY3Rpb25UeXBlU3VwcG9ydGVkKFRyYW5zYWN0aW9uVHlwZS5QcmVBdXRoKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBmbGFnOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJibFBheW1lbnRNZXRob2QuU2VsZWN0ZWRWYWx1ZSA9PSAiQ0MiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBnYXRld2F5QWNjb3VudC5BdXRob3JpemUoVHJhbnNhY3Rpb25UeXBlLlByZUF1dGgsIHRoaXMudGJDQ051bWJlci5UZXh0LCB0aGlzLnRiQ0NDSU4uVGV4dCwgdGhpcy5kZGxFeHBNb250aC5TZWxlY3RlZFZhbHVlLCB0aGlzLmRkbEV4cFllYXIuU2VsZWN0ZWRWYWx1ZSwgLTEsIHRoaXMuX3BlcnNvbi5QZXJzb25JRCwgdGhpcy50YkZpcnN0TmFtZS5UZXh0LCB0aGlzLnRiRmlyc3ROYW1lLlRleHQsIHRoaXMudGJMYXN0TmFtZS5UZXh0LCB0aGlzLnRiQWRkcmVzczEuVGV4dCwgdGhpcy50YkNpdHkuVGV4dCwgdGhpcy50YlN0YXRlLlRleHQsIHRoaXMudGJaaXAuVGV4dCwgdGhpcy50YlBob25lLlRleHQsIHRoaXMudGJFbWFpbC5UZXh0LCB0b3RhbEFtb3VudCwgIiIsIERhdGVUaW1lLk1pblZhbHVlLCBQYXltZW50RnJlcXVlbmN5LlVua25vd24sIDAsIHRoaXMuX3ZhbGlkYXRlQ2FyZE51bWJlcik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGdhdGV3YXlBY2NvdW50LkF1dGhvcml6ZUFDSChUcmFuc2FjdGlvblR5cGUuUHJlQXV0aCwgdGhpcy50YkFjY291bnROdW1iZXIuVGV4dC5UcmltKCksIHRoaXMudGJSb3V0aW5nTnVtYmVyLlRleHQuVHJpbSgpLCB0aGlzLmRkbEFjY291bnRUeXBlLkl0ZW1zWzBdLlNlbGVjdGVkLCB0aGlzLl9wZXJzb24uUGVyc29uSUQsIHRoaXMudGJGaXJzdE5hbWUuVGV4dC5UcmltKCksIHRoaXMudGJGaXJzdE5hbWUuVGV4dC5UcmltKCksIHRoaXMudGJMYXN0TmFtZS5UZXh0LlRyaW0oKSwgdGhpcy50YkFkZHJlc3MxLlRleHQuVHJpbSgpLCB0aGlzLnRiQ2l0eS5UZXh0LlRyaW0oKSwgdGhpcy50YlN0YXRlLlRleHQuVHJpbSgpLCB0aGlzLnRiWmlwLlRleHQuVHJpbSgpLCB0aGlzLnRiUGhvbmUuVGV4dC5UcmltKCksIHRoaXMudGJFbWFpbC5UZXh0LlRyaW0oKSwgdG90YWxBbW91bnQsICIiLCBEYXRlVGltZS5NaW5WYWx1ZSwgUGF5bWVudEZyZXF1ZW5jeS5Vbmtub3duLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmxhZykNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlFcnJvcigiQXV0aG9yaXphdGlvbiBvZiB5b3VyIGluZm9ybWF0aW9uIGZhaWxlZCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb24ocyk6IiwgZ2F0ZXdheUFjY291bnQuTWVzc2FnZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBpbm5lcikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJlbmFBcHBsaWNhdGlvbkV4Y2VwdGlvbigiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIHByZWF1dGhvcml6YXRpb24iLCBpbm5lcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcHJpdmF0ZSBib29sIFN1Ym1pdFRyYW5zYWN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgdHJ5DQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgYm9vbCBmbGFnID0gdGhpcy5fcmVwZWF0aW5nUGF5bWVudCAhPSBudWxsICYmIHRoaXMuX3JlcGVhdGluZ1BheW1lbnQuUmVwZWF0aW5nUGF5bWVudElkICE9IC0xOw0KICAgICAgICAgICAgICAgIENvbnRyaWJ1dGlvbkZ1bmRDb2xsZWN0aW9uIHNlbGVjdGVkRnVuZENvbGxlY3Rpb24gPSB0aGlzLkdldFNlbGVjdGVkRnVuZENvbGxlY3Rpb24oKTsNCiAgICAgICAgICAgICAgICBkZWNpbWFsIHRvdGFsQW1vdW50ID0gQ29udmVydC5Ub0RlY2ltYWwodGhpcy5oZlRvdGFsQ29udHJpYnV0aW9uLlZhbHVlKTsNCiAgICAgICAgICAgICAgICBib29sIHJlc3VsdDsNCiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRGdW5kQ29sbGVjdGlvbi5Ub3RhbEZ1bmRBbW91bnQgIT0gdG90YWxBbW91bnQpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlFcnJvcigiVGhlcmUgYXBwZWFycyB0byBiZSBhIHByb2JsZW0gd2l0aCB0aGUgRnVuZHMgeW91IHNlbGVjdGVkLiAgUGxlYXNlIHJldHVybiB0byB0aGUgc2VsZWN0aW9uIHNjcmVlbiBhbmQgcmV2aWV3IHlvdXIgY2hvaWNlcy4iKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgc3RyaW5nQnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuQ29tbWVudENhcHRpb25TZXR0aW5nID09IHN0cmluZy5FbXB0eSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHVzaW5nIChMaXN0PENvbnRyaWJ1dGlvbkZ1bmQ+LkVudW1lcmF0b3IgZW51bWVyYXRvciA9IHNlbGVjdGVkRnVuZENvbGxlY3Rpb24uR2V0RW51bWVyYXRvcigpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZW51bWVyYXRvci5Nb3ZlTmV4dCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRyaWJ1dGlvbkZ1bmQgY3VycmVudCA9IGVudW1lcmF0b3IuQ3VycmVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdCdWlsZGVyLkFwcGVuZEZvcm1hdCgiRnswfTp7MX0gICIsIGN1cnJlbnQuRnVuZElkLlRvU3RyaW5nKCksIGN1cnJlbnQuQW1vdW50LlRvU3RyaW5nKCJDMiIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gSUxfRjM7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3RyaW5nQnVpbGRlci5BcHBlbmQodGhpcy50YkNvbW1lbnQuVGV4dCk7DQogICAgICAgICAgICBJTF9GMzoNCiAgICAgICAgICAgICAgICBHYXRld2F5QWNjb3VudCBnYXRld2F5QWNjb3VudDsNCiAgICAgICAgICAgICAgICBzdHJpbmcgYWNjb3VudE51bWJlcjsNCiAgICAgICAgICAgICAgICBpZiAoZmxhZykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGdhdGV3YXlBY2NvdW50ID0gdGhpcy5fcmVwZWF0aW5nUGF5bWVudC5HYXRld2F5QWNjb3VudDsNCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudE51bWJlciA9IHRoaXMuX3JlcGVhdGluZ1BheW1lbnQuQWNjb3VudE51bWJlcjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJibFBheW1lbnRNZXRob2QuU2VsZWN0ZWRWYWx1ZSA9PSAiQ0MiKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBnYXRld2F5QWNjb3VudCA9IHRoaXMuY2NHYXRld2F5QWNjdDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnROdW1iZXIgPSB0aGlzLk1hc2tBY2NvdW50TnVtYmVyKHRoaXMudGJDQ051bWJlci5UZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGV3YXlBY2NvdW50ID0gdGhpcy5hY2hHYXRld2F5QWNjdDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnROdW1iZXIgPSB0aGlzLk1hc2tBY2NvdW50TnVtYmVyKHRoaXMudGJBY2NvdW50TnVtYmVyLlRleHQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgVHJhbnNhY3Rpb24gdHJhbnNhY3Rpb24gPSBudWxsOw0KICAgICAgICAgICAgICAgIGlmIChnYXRld2F5QWNjb3VudC5SZXF1aXJlc1BheW1lbnRHYXRld2F5KQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIGNvbmZpcm1hdGlvbklEID0gYmFzZS5SZXF1ZXN0LlF1ZXJ5U3RyaW5nWyJjb25maWQiXTsNCiAgICAgICAgICAgICAgICAgICAgZ2F0ZXdheUFjY291bnQuUHJvY2Vzc29yQ2xhc3MuUGF5bWVudEZyZXF1ZW5jeSA9IFBheW1lbnRGcmVxdWVuY3kuT25lX1RpbWU7DQogICAgICAgICAgICAgICAgICAgIGlmIChnYXRld2F5QWNjb3VudC5BdXRob3JpemUoY29uZmlybWF0aW9uSUQpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiA9IGdhdGV3YXlBY2NvdW50LlRyYW5zYWN0aW9uOw0KICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uUGVyc29uSWQgPSB0aGlzLl9wZXJzb24uUGVyc29uSUQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJibFBheW1lbnRNZXRob2QuU2VsZWN0ZWRWYWx1ZSA9PSAiQ0MiKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2F0ZXdheUFjY291bnQuQXV0aG9yaXplKFRyYW5zYWN0aW9uVHlwZS5TYWxlLCB0aGlzLnRiQ0NOdW1iZXIuVGV4dCwgdGhpcy50YkNDQ0lOLlRleHQsIHRoaXMuZGRsRXhwTW9udGguU2VsZWN0ZWRWYWx1ZSwgdGhpcy5kZGxFeHBZZWFyLlNlbGVjdGVkVmFsdWUsIC0xLCB0aGlzLl9wZXJzb24uUGVyc29uSUQsIHRoaXMudGJGaXJzdE5hbWUuVGV4dC5UcmltKCksIHRoaXMudGJGaXJzdE5hbWUuVGV4dC5UcmltKCksIHRoaXMudGJMYXN0TmFtZS5UZXh0LlRyaW0oKSwgdGhpcy50YkFkZHJlc3MxLlRleHQsIHRoaXMudGJDaXR5LlRleHQsIHRoaXMudGJTdGF0ZS5UZXh0LCB0aGlzLnRiWmlwLlRleHQuVHJpbSgpLCB0aGlzLnRiUGhvbmUuVGV4dC5UcmltKCksIHRoaXMudGJFbWFpbC5UZXh0LlRyaW0oKSwgdG90YWxBbW91bnQsIHN0cmluZ0J1aWxkZXIuVG9TdHJpbmcoKSwgRGF0ZVRpbWUuTWluVmFsdWUsIFBheW1lbnRGcmVxdWVuY3kuT25lX1RpbWUsIDAsIHRoaXMuX3ZhbGlkYXRlQ2FyZE51bWJlcikpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBnYXRld2F5QWNjb3VudC5UcmFuc2FjdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYXRld2F5QWNjb3VudC5BdXRob3JpemVBQ0goVHJhbnNhY3Rpb25UeXBlLlNhbGUsIHRoaXMudGJBY2NvdW50TnVtYmVyLlRleHQuVHJpbSgpLCB0aGlzLnRiUm91dGluZ051bWJlci5UZXh0LlRyaW0oKSwgZGRsQWNjb3VudFR5cGUuSXRlbXNbMF0uU2VsZWN0ZWQsIHRoaXMuX3BlcnNvbi5QZXJzb25JRCwgdGhpcy50YkZpcnN0TmFtZS5UZXh0LlRyaW0oKSwgdGhpcy50YkZpcnN0TmFtZS5UZXh0LlRyaW0oKSwgdGhpcy50Ykxhc3ROYW1lLlRleHQuVHJpbSgpLCB0aGlzLnRiQWRkcmVzczEuVGV4dC5UcmltKCksIHRoaXMudGJDaXR5LlRleHQuVHJpbSgpLCB0aGlzLnRiU3RhdGUuVGV4dC5UcmltKCksIHRoaXMudGJaaXAuVGV4dC5UcmltKCksIHRoaXMudGJQaG9uZS5UZXh0LlRyaW0oKSwgdGhpcy50YkVtYWlsLlRleHQuVHJpbSgpLCB0b3RhbEFtb3VudCwgc3RyaW5nQnVpbGRlci5Ub1N0cmluZygpLCBEYXRlVGltZS5NaW5WYWx1ZSwgUGF5bWVudEZyZXF1ZW5jeS5PbmVfVGltZSwgMCkpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBnYXRld2F5QWNjb3VudC5UcmFuc2FjdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodHJhbnNhY3Rpb24gIT0gbnVsbCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLlNhdmUoYmFzZS5DdXJyZW50VXNlci5JZGVudGl0eS5OYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2FjdGlvbi5TdWNjZXNzKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlFcnJvcigiQXV0aG9yaXphdGlvbiBvZiB5b3VyIGluZm9ybWF0aW9uIGZhaWxlZCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb24ocyk6IiwgZ2F0ZXdheUFjY291bnQuTWVzc2FnZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHN0cmluZyBzdHIgPSAiT25saW5lIEdpdmluZyI7DQogICAgICAgICAgICAgICAgICAgIGlmIChiYXNlLkN1cnJlbnRPcmdhbml6YXRpb24uU2V0dGluZ3NbIkdpdmluZ0JhdGNoTmFtZSJdICE9IG51bGwpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IGJhc2UuQ3VycmVudE9yZ2FuaXphdGlvbi5TZXR0aW5nc1siR2l2aW5nQmF0Y2hOYW1lIl07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgQmF0Y2hUeXBlIGJhdGNoVHlwZSA9IEJhdGNoLkdldEJhdGNoVHlwZSh0cmFuc2FjdGlvbi5QYXltZW50TWV0aG9kLkd1aWQpOw0KICAgICAgICAgICAgICAgICAgICBCYXRjaCBiYXRjaCA9IG5ldyBCYXRjaChiYXNlLkN1cnJlbnRPcmdhbml6YXRpb24uT3JnYW5pemF0aW9uSUQsIHRydWUsIHN0ciArICIgIiArIEVudW0uR2V0TmFtZSh0eXBlb2YoQmF0Y2hUeXBlKSwgYmF0Y2hUeXBlKSwgdHJhbnNhY3Rpb24uVHJhbnNhY3Rpb25EYXRlLCBiYXRjaFR5cGUsIGdhdGV3YXlBY2NvdW50LkdhdGV3YXlBY2NvdW50SWQsIGJhc2UuQ3VycmVudFVzZXIuSWRlbnRpdHkuTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIGJhdGNoLlZlcmlmeUFtb3VudCArPSB0cmFuc2FjdGlvbi5UcmFuc2FjdGlvbkFtb3VudDsNCiAgICAgICAgICAgICAgICAgICAgYmF0Y2guU2F2ZShiYXNlLkN1cnJlbnRVc2VyLklkZW50aXR5Lk5hbWUpOw0KICAgICAgICAgICAgICAgICAgICBDb250cmlidXRpb24gY29udHJpYnV0aW9uID0gbmV3IENvbnRyaWJ1dGlvbigpOw0KICAgICAgICAgICAgICAgICAgICBjb250cmlidXRpb24uUGVyc29uSWQgPSB0cmFuc2FjdGlvbi5QZXJzb25JZDsNCiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0aW9uLlRyYW5zYWN0aW9uSWQgPSB0cmFuc2FjdGlvbi5UcmFuc2FjdGlvbklkOw0KICAgICAgICAgICAgICAgICAgICBjb250cmlidXRpb24uQmF0Y2hJZCA9IGJhdGNoLkJhdGNoSWQ7DQogICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dGlvbi5Db250cmlidXRpb25EYXRlID0gdHJhbnNhY3Rpb24uVHJhbnNhY3Rpb25EYXRlOw0KICAgICAgICAgICAgICAgICAgICBjb250cmlidXRpb24uQ3VycmVuY3lBbW91bnQgPSB0cmFuc2FjdGlvbi5UcmFuc2FjdGlvbkFtb3VudDsNCiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0aW9uLlRyYW5zYWN0aW9uTnVtYmVyID0gdHJhbnNhY3Rpb24uVHJhbnNhY3Rpb25EZXRhaWw7DQogICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dGlvbi5DdXJyZW5jeVR5cGUgPSB0cmFuc2FjdGlvbi5QYXltZW50TWV0aG9kOw0KICAgICAgICAgICAgICAgICAgICBjb250cmlidXRpb24uQWNjb3VudE51bWJlciA9IHRyYW5zYWN0aW9uLlJlcGVhdGluZ1BheW1lbnQuQWNjb3VudE51bWJlcjsNCiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0aW9uLkNvbnRyaWJ1dGlvbkZ1bmRzID0gc2VsZWN0ZWRGdW5kQ29sbGVjdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0aW9uLk1lbW8gPSBzdHJpbmdCdWlsZGVyLlRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dGlvbi5TYXZlKGJhc2UuQ3VycmVudFVzZXIuSWRlbnRpdHkuTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuQ29uZmlybWF0aW9uTnVtYmVyID0gIkNvbmZpcm1hdGlvbiBOdW1iZXI6ICIgKyBjb250cmlidXRpb24uVHJhbnNhY3Rpb25OdW1iZXI7DQogICAgICAgICAgICAgICAgICAgIHRyeQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBPbmxpbmVHaXZpbmdDb250cmlidXRpb24gb25saW5lR2l2aW5nQ29udHJpYnV0aW9uID0gbmV3IE9ubGluZUdpdmluZ0NvbnRyaWJ1dGlvbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgb25saW5lR2l2aW5nQ29udHJpYnV0aW9uLlNlbmQoYmFzZS5DdXJyZW50T3JnYW5pemF0aW9uLCB0cmFuc2FjdGlvbiwgc2VsZWN0ZWRGdW5kQ29sbGVjdGlvbiwgYWNjb3VudE51bWJlciwgdGhpcy50YkVtYWlsLlRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZ290byBJTF9CMjk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbikNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgZ290byBJTF9CMjk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5RXJyb3IoIkF1dGhvcml6YXRpb24gb2YgeW91ciBpbmZvcm1hdGlvbiBmYWlsZWQgZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uKHMpOiIsIGdhdGV3YXlBY2NvdW50Lk1lc3NhZ2VzKTsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICAgICAgSUxfQjI5Og0KICAgICAgICAgICAgICAgIGJhc2UuU2Vzc2lvbi5DbGVhcigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBpbm5lcikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJlbmFBcHBsaWNhdGlvbkV4Y2VwdGlvbigiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIEF1dGhvcml6YXRpb24iLCBpbm5lcik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgDQogICAgICAgIH0NCg0KICAgIH0NCn0=</File>
    </Module>
    <Module temp_module_id="-2" module_url="UserControls/AdvHtmlText.ascx" module_name="Advance Html Text" module_desc="" allows_child_modules="0" image_path="">
      <File path="UserControls/AdvHtmlText.ascx">PCVAIGNvbnRyb2wgbGFuZ3VhZ2U9ImMjIiBpbmhlcml0cz0iQXJlbmFXZWIuVXNlckNvbnRyb2xzLkFkdkh0bWxUZXh0LCBBcmVuYSIgJT4NCjwlQCBSZWdpc3RlciBUYWdQcmVmaXg9IlRlbGVyaWsiIE5hbWVzcGFjZT0iVGVsZXJpay5XZWIuVUkiIEFzc2VtYmx5PSJUZWxlcmlrLldlYi5VSSIgJT4NCjxhc3A6VXBkYXRlUGFuZWwgSUQ9InBubFVwZGF0ZVBhbmVsIiBydW5hdD0ic2VydmVyIj4NCjxDb250ZW50VGVtcGxhdGU+DQogICAgPGFzcDpQYW5lbCBJRD0icG5sRWRpdEltYWdlIiBSdW5hdD0ic2VydmVyIiBDc3NDbGFzcz0iZWRpdEltYWdlIiBWaXNpYmxlPSJGYWxzZSI+PGFzcDpJbWFnZUJ1dHRvbiBJRD0iaWJFZGl0IiBJbWFnZVVybD0ifkltYWdlcy9lZGl0LmdpZiIgUnVuYXQ9InNlcnZlciIgQ2F1c2VzVmFsaWRhdGlvbj0iRmFsc2UiPjwvYXNwOkltYWdlQnV0dG9uPjwvYXNwOlBhbmVsPg0KICAgIDxhc3A6UGxhY2VIb2xkZXIgaWQ9Ikh0bWxIb2xkZXIiIHJ1bmF0PSJzZXJ2ZXIiPjwvYXNwOlBsYWNlSG9sZGVyPg0KICAgIDxhc3A6UGFuZWwgSUQ9InBubEVkaXQiIFJ1bmF0PSJzZXJ2ZXIiIENzc0NsYXNzPSJlZGl0V3JhcCIgVmlzaWJsZT0iRmFsc2UiPg0KICAgICAgICA8QXJlbmE6S2VlcEFsaXZlIElEPSJrZWVwTWVBbGl2ZSIgcnVuYXQ9InNlcnZlciIgLz4NCiAgICAgICAgPFRlbGVyaWs6UmFkRWRpdG9yIElEPSJyYWRFZGl0b3IiIHJ1bmF0PSJzZXJ2ZXIiIEltYWdlQWxsb3dlZEZpbGVUeXBlcz0iZ2lmLHBuZyxibXAsanBnIiAvPg0KPCUtLSAgICAgICAgPFRlbGVyaWs6UmFkU3BlbGwgSUQ9InJhZFNwZWxsIiBydW5hdD0ic2VydmVyIiBDb250cm9sVG9DaGVjaz0icmFkRWRpdG9yIiBTdXBwb3J0ZWRMYW5ndWFnZXM9ImVuLVVTLEVuZ2xpc2giIFZpc2libGU9ImZhbHNlIiAvPg0KLS0lPiAgICAgICAgPGFzcDpCdXR0b24gSUQ9ImJ0blNhdmUiIHJ1bmF0PSJzZXJ2ZXIiIENzc0NsYXNzPSJzbWFsbFRleHQiIE9uQ2xpY2s9ImJ0blNhdmVfQ2xpY2siIFRleHQ9IlNhdmUiIC8+DQogICAgICAgIDxhc3A6QnV0dG9uIElEPSJidG5DYW5jZWwiIHJ1bmF0PSJzZXJ2ZXIiIENzc0NsYXNzPSJzbWFsbFRleHQiIE9uQ2xpY2s9ImJ0bkNhbmNlbF9DbGljayIgVGV4dD0iQ2FuY2VsIiAvPg0KICAgIDwvYXNwOlBhbmVsPg0KPC9Db250ZW50VGVtcGxhdGU+DQo8L2FzcDpVcGRhdGVQYW5lbD4NCg==</File>
    </Module>
  </Modules>
  <Pages>
    <Page temp_page_id="-1" page_order="2147483647" display_in_nav="1" page_name="Open Giving" page_desc="This is a new page." page_settings="" require_ssl="0" guid="DC76D84F-F753-4451-BA6A-7F746789ED97" system_flag="0" friendly_url="" validate_request="1" menu_name="Open Giving" temp_parent_page_id="0">
      <ModuleInstance temp_module_instance_id="-1" module_title="WVC Open Giving" show_title="1" template_frame_name="Main" template_frame_order="2147483647" module_details="" system_flag="0" mandatory="0" movable="0" description="" image_path="" guid="D8CE92E5-227A-47CD-B2EB-DFE75DFBDC74" temp_module_id="-1" temp_page_id="-1" module_settings="CheckImageURL=https://mywvc.woodmenvalley.org/images/bankcheck.jpg;CommentCaption=Memo;DefaultFund1=1;DefaultFund2=2;FundList=1,2;LoginPage=3066;NewPersonCampus=1;NewPersonStatus=962" temp_page_or_template_id="-1" page_instance="1">
        <Setting name="CheckImageURL" value="https://mywvc.woodmenvalley.org/images/bankcheck.jpg" type_id="1" />
        <Setting name="CommentCaption" value="Memo" type_id="1" />
        <Setting name="DefaultFund1" value="1" type_id="1" />
        <Setting name="DefaultFund2" value="2" type_id="1" />
        <Setting name="FundList" value="1,2" type_id="1" />
        <Setting name="LoginPage" value="3066" type_id="3" guid="97301d18-7ddd-4ab4-8882-bdc356b2e1d2" />
        <Setting name="NewPersonCampus" value="1" type_id="19" />
        <Setting name="NewPersonStatus" value="962" type_id="10" guid="b0b56ec4-bc0c-4042-a41c-30cc8f0025cd" />
      </ModuleInstance>
      <ModuleInstance temp_module_instance_id="-2" module_title="New Module" show_title="1" template_frame_name="MainBottom" template_frame_order="2147483647" module_details="" system_flag="0" mandatory="0" movable="0" description="" image_path="" guid="7A442C77-0B59-4514-B808-576148C0233C" temp_module_id="-2" temp_page_id="-1" module_settings="" temp_page_or_template_id="-1" page_instance="1" />
    </Page>
  </Pages>
</ArenaPackage>